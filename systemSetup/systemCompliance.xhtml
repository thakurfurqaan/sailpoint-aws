<!DOCTYPE html PUBLIC
                "-//W3C//DTD XHTML 1.0 Transitional//EN"
                "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- (c) Copyright 2008 SailPoint Technologies, Inc., All Rights Reserved. -->

<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:sp="http://sailpoint.com/ui"
  xmlns:t="http://myfaces.apache.org/tomahawk"
  xmlns:p="http://primefaces.org/ui"
  xmlns:c="http://java.sun.com/jstl/core">

<h:head>
<title>#{msgs.sailpoint_iiq} - #{msgs.title_configure_compliance_manager_settings}</title>
</h:head>

<body>
<ui:composition template="/appPage.xhtml">

  <ui:define name="title">#{msgs.compliance_manager}</ui:define>
  <ui:define name="headerItems">
    <sp:style serveOffset="#{base.requestContextPath}/css/sailpoint/component">
      <src>rule-editor.css</src>
    </sp:style>       
    <sp:script>
      <src>#{base.requestContextPath}/scripts/sailpoint/bandConfig.js?#{debug.revision}</src>
      <src>#{base.requestContextPath}/scripts/sailpoint/Suggest.js?#{debug.revision}</src>
      <src>#{base.requestContextPath}/scripts/sailpoint/component/RowLayout.js?#{debug.revision}</src>
      <src>#{base.requestContextPath}/scripts/sailpoint/component/RuleEditor.js?#{debug.revision}</src>
      <src>#{base.requestContextPath}/scripts/sailpoint/grid/Utils.js?#{debug.revision}</src>
      <src>#{base.requestContextPath}/scripts/sailpoint/form/ComboBox.js?#{debug.revision}</src>
      <src>#{base.requestContextPath}/scripts/sailpoint/web/systemSetup/electronicSignatures.js?#{debug.revision}</src>
    </sp:script>
    <script type="text/javascript">
      <!--//--><![CDATA[//><!--
        helpKey = 'SYSTEM_COMPLIANCE_SETTINGS';

        function syncAllowExceptionDisabledState() {
            var checkbox = Ext.getDom('editForm:enableAllowException');
            var bulkCheckbox = Ext.getDom('editForm:enableListViewBulkMitigate');
            var enableBulkAllowExceptionCB = Ext.getDom('editForm:enableListViewBulkAllowException');
            var deprovision = Ext.getDom('editForm:deprovisionUponExpiration');
            
            if (checkbox && bulkCheckbox) {
                bulkCheckbox.disabled = !checkbox.checked;
            }
            if (checkbox && enableBulkAllowExceptionCB) {
                enableBulkAllowExceptionCB.disabled = !checkbox.checked;
            }
            if (checkbox && deprovision) {
                deprovision.disabled = !checkbox.checked;
            }
        }

        function syncBulkAccountRevocationState() {
            // Don't show bulk account revoke options if
            // general account revoke is disabled
            var accountRevokeEnabledCheckbox = Ext.getDom('editForm:enableAccountRevoke');
            var bulkAccountRevoke1 = Ext.getDom('editForm:enableListViewBulkAccountRevocation');
            var bulkAccountRevoke2 = Ext.getDom('editForm:enableEntityBulkAccountRevocation');

            if (accountRevokeEnabledCheckbox && bulkAccountRevoke1 && bulkAccountRevoke2) {
                bulkAccountRevoke1.disabled = !accountRevokeEnabledCheckbox.checked;
                bulkAccountRevoke2.disabled = !accountRevokeEnabledCheckbox.checked;
            }
        }

        var isPageDirty = false;
        function makePageDirty() {
          isPageDirty = true;
          // Return false so that we don't accidentally submit the form
          return false;
        }

        function updateAutoSignoffOption() {
            var isAutoSignoffDisabled = Ext.getDom('editForm:completeReassignments').checked || Ext.getDom('editForm:assimilateBulkReassignments').checked;
            Ext.getDom('editForm:autoSignoffOnReassignments').disabled = isAutoSignoffDisabled;
            if (isAutoSignoffDisabled) {
                Ext.getDom('editForm:autoSignoffOnReassignments').checked = false;
            }
        }


        function initSysCompAutoCloseSuggest () {
            var autoCloseSignerSuggest;
            if (!Ext.getDom('automaticClosingSuggestComp') && Ext.getDom('automaticClosingSuggest')) {
                autoCloseSignerSuggest = new SailPoint.IdentitySuggest({
                    id: 'automaticClosingSuggestComp',
                    renderTo: 'automaticClosingSuggest',
                    binding: 'automaticClosingInput',
                    baseParams: {context: 'Owner'}
                });
                
                var iVal = '#{sp:escapeJavascript(systemConfig.automaticClosingSigner.displayName)}'; 
                if(iVal != ''){
                	autoCloseSignerSuggest.setRawValue(iVal);
                    SailPoint.Suggest.IconSupport.setIconDiv(autoCloseSignerSuggest, 'userIcon');
                }
            }

            // stoopid IE...
            autoCloseSignerSuggest = Ext.getCmp('automaticClosingSuggestComp');
            //autoCloseSignerSuggest.hide();
            autoCloseSignerSuggest.show();
            }


        /**
         * Fixes a weird display artifact in the younger versions of IE
         */
        function hideSignerSuggest () {
            var suggest = Ext.getCmp('automaticClosingSuggestComp');
            if (suggest)
                suggest.hide();
        }

        function syncAllowExceptionPopup() {
          var allowPopup = Ext.getDom('editForm:enableAllowExceptionPopup');
          var requireComments = Ext.getDom('editForm:requireMitigationComments');
          if (requireComments.checked) {
            allowPopup.checked = true;
          }
        }

        function syncAutoSignOffState() {
            var autoSignOffWhenNothing = Ext.getDom('editForm:autoSignOffWhenNothingToCertify').checked;
            var supressNotificationWhenNothing = Ext.getDom('editForm:suppressEmailWhenNothingToCertify').checked;
            var requireSubordinateSignOff = Ext.getDom('editForm:completeCertificationHierarchy').checked;
            /* Auto Sign Off When Nothing To Certify and Require Subordinate Sign Off are mutually exclusive options.
             * The suppress notification option is dependent on the Auto Sign Off option. */
            if( !requireSubordinateSignOff && !autoSignOffWhenNothing) { 
                Ext.getDom('editForm:autoSignOffWhenNothingToCertify').disabled = false;
                Ext.getDom('editForm:suppressEmailWhenNothingToCertify').checked = false;
                Ext.getDom('editForm:suppressEmailWhenNothingToCertify').disabled = true;
                Ext.getDom('editForm:completeCertificationHierarchy').disabled = false;
            } else if( requireSubordinateSignOff ) {
                Ext.getDom('editForm:autoSignOffWhenNothingToCertify').checked = false;
                Ext.getDom('editForm:autoSignOffWhenNothingToCertify').disabled = true;
                Ext.getDom('editForm:suppressEmailWhenNothingToCertify').checked = false;
                Ext.getDom('editForm:suppressEmailWhenNothingToCertify').disabled = true;
                Ext.getDom('editForm:completeCertificationHierarchy').disabled = false;
            } else {
                Ext.getDom('editForm:autoSignOffWhenNothingToCertify').disabled = false;
                Ext.getDom('editForm:suppressEmailWhenNothingToCertify').disabled = false;
                Ext.getDom('editForm:completeCertificationHierarchy').checked = false;
                Ext.getDom('editForm:completeCertificationHierarchy').disabled = true;
            }
        }

        function syncRequireMitigationComments() {
          var allowPopup = Ext.getDom('editForm:enableAllowExceptionPopup');
          var requireComments = Ext.getDom('editForm:requireMitigationComments');
          if (!allowPopup.checked) {
            requireComments.checked = false;
          }
        }

        function onLimitReassignmentsChanged(el) {
            var elLimit = Ext.getDom('editForm:reassignmentLimit');
            if (elLimit) {
                elLimit.disabled = !el.checked;
                SailPoint.toggleClass('.notLimit', 'disabled', !el.checked);
            }
        }

        function onShowRecommendationsChanged(el) {
            var elAutoApprove = Ext.getDom('autoApproval');
            if (elAutoApprove) {
                SailPoint.toggleClass('.autoApproval', 'hidden', !el.checked);
            }
        }

        Ext.onReady(function() {
            if (Ext.getDom('editForm:certifyAutomaticClosingSelect').checked)
                initSysCompAutoCloseSuggest();

            syncAllowExceptionDisabledState();

            syncBulkAccountRevocationState();
            syncAutoSignOffState();
            // Display the proper options based on the current radio selection
            var selectedRadio = null;
            var radioInputs = document.getElementsByName('editForm:certifySubordinate');
            for (var i = 0; i < radioInputs.length && selectedRadio == null; ++i) {
                if (radioInputs[i].checked) {
                    selectedRadio = radioInputs[i];
                }
            }
            if (selectedRadio.value != 'false') {
                Ext.getDom('certifySubordinateOptions').style['display'] = 'none';
            }

            var defaultRemediatorSuggest = new SailPoint.IdentitySuggest({
                id: 'defaultRemediatorSuggestComp',
                renderTo: 'defaultRemediatorSuggest',
                binding: 'defaultRemediatorInput',
                baseParams: {context: 'Owner'}
            });
            
            var iVal = '#{sp:escapeJavascript(systemConfig.defaultRemediator.displayName)}'; 
            if(iVal != ''){
            	defaultRemediatorSuggest.setRawValue(iVal);
                SailPoint.Suggest.IconSupport.setIconDiv(defaultRemediatorSuggest, 'userIcon');
            }

            var selfCertOwnerSuggest = new SailPoint.IdentitySuggest({
                id: 'selfCertOwnerSuggestComp',
                renderTo: 'selfCertificationViolationOwnerSuggest',
                binding: 'selfCertificationViolationOwnerInput',
                baseParams: {context: 'Owner'}
            });

            var iVal = '#{sp:escapeJavascript(systemConfig.selfCertificationViolationOwner.displayName)}';
            if(iVal != ''){
                selfCertOwnerSuggest.setRawValue(iVal);
                SailPoint.Suggest.IconSupport.setIconDiv(selfCertOwnerSuggest, 'userIcon');
            }

            var meaningsStore;
            initMeaningsComboBox('#{systemConfig.defaultElectronicSignatureName}',false,false,'editForm:defaultElectronicSignatureName');

            var el = Ext.getDom('editForm:limitReassignments');
            if (el) {
                onLimitReassignmentsChanged(el);
            }

            Ext.QuickTips.init();
        });
        
        //--><!]]>
    </script>
  </ui:define>

  <ui:define name="body">

    <f:view>
      <h:form styleClass="form" id="editForm">

        <h:messages infoClass="formInfo" warnClass="formWarn" errorClass="formError" fatalClass="formError"/>
        <table id="wholePage" class="width100">
          <tbody>
            <tr><td colspan="2">
                <div class="spContent">
                  <table style="margin:5px" class="spTable">
                      <tr>
                        <td colspan="4">
                            <h:outputText styleClass="spContentTitle" value="#{msgs.cert_sched_lifecycle_tab}"/>
                        </td>
                      </tr>

                      <tr>
                        <td align="right" width="500px">
                          <h:outputText value="#{msgs.sys_config_notify_remediation}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpNotifyRemed"
                            width="12px" height="12px" alt="#{help.help_system_config_notify_remediation}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td>
                          <h:selectBooleanCheckbox id="notifyRemediation" value="#{systemConfig.notifyRemediation}" onclick="makePageDirty();" />
                        </td>
                        <td>
                          <h:message styleClass="formError" for="notifyRemediation" />
                        </td>
                      </tr>
                      <tr>
                        <td align="right"><h:outputText value="#{msgs.sys_config_specify_certification_escalation_rule}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpCertEscRule"
                            width="12px" height="12px" alt="#{help.help_system_config_cert_esc_rule}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td class="nowrap" colspan="2">
                          <p:outputPanel id="escalationRulePanel">
                            <h:selectOneMenu id="escalationRule"
                                             value="#{systemConfig.selectedEscalationRule}"
                                             onchange="makePageDirty();">
                              <f:selectItems value="#{systemConfig.escalationRules}" />
                            </h:selectOneMenu>

                            <ui:fragment rendered="#{sp:hasRight(facesContext, 'ManageRules')}" >
                               <input type="button" value="#{msgs.button_ellipsis}" class="ruleEditorBtn"
                                      onclick="SailPoint.Rule.Editor.edit(Ext.getDom('editForm:escalationRule').value,
                                                                          'Escalation',
                                                                          Ext.getDom('editForm:refreshEscalationRulesButton'))" />
                            </ui:fragment>
                          </p:outputPanel>
                        </td>
                      </tr>
                      <tr>
                        <td align="right"><h:outputText value="#{msgs.sys_config_mitigation_expiration_action}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpMitExpAction"
                            width="12px" height="12px" alt="#{help.help_system_config_mit_exp_action}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td colspan="2"><h:selectOneMenu
                          id="mitigationExpirationAction"
                          converter="sailpoint.object.Enum"
                          value="#{systemConfig.mitigationExpirationAction}"
                          onchange="makePageDirty();">
                          <f:selectItems value="#{systemConfig.mitigationExpirationActions}" />
                        </h:selectOneMenu></td>
                      </tr>
                      <tr>
                        <td align="right"><h:outputText value="#{msgs.system_config_active_period_duration}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpActivePeriodDuration" width="12px"
                            height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_active_period_duration}"/>
                        </td>
                        <td colspan="2">
                          <h:inputText id="activePeriodDuration" value="#{systemConfig.activePeriodDurationAmount}" onchange="makePageDirty();" size="3"/>
                          <h:selectOneListbox
                            id="activeDurationDurationScale"
                            size="1"
                            onchange="makePageDirty();"
                            converter="sailpoint.object.Enum"
                            value="#{systemConfig.activePeriodDurationScale}">
                          <f:selectItems value="#{systemConfig.durationScales}" />
                          </h:selectOneListbox>
                        </td>
                      </tr>

                      <tr>
                        <td align="right"><h:outputText value="#{msgs.sys_config_challenge_period}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpClg" width="12px"
                            height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_chlg_enabled}"/>
                        </td>
                        <td>
                          <h:selectBooleanCheckbox id="certifyChallengeSelect" value="#{systemConfig.challengePeriodEnabled}"
                            onclick="showHideWithLock(Ext.getDom('challengePeriodConfig'), this); makePageDirty();"/>
                        </td>
                        <td></td>
                      </tr>

                      <tr>
                        <td colspan="2"></td>
                        <td colspan="2">
                          <div id="challengePeriodConfig" style="display: #{systemConfig.challengePeriodEnabled ? '' : 'none'}">
                            <table class="width100">
                              <thead>
                                <tr>
                                  <th colspan="4" class="dashContentHeader">
                                    <h:outputText value="#{msgs.sys_config_challenge_period_config}" />
                                  </th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td align="right"><h:outputText value="#{msgs.sys_config_challenge_period_duration}" /></td>
                                  <td width="15px"><h:graphicImage id="imgHlpClgDuration"
                                    width="12px" height="12px"
                                    style="cursor:pointer;padding: 0px 7px 0px 7px"
                                    url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_chlg_duration}"/>
                                  </td>
                                  <td colspan="2">
                                    <h:inputText id="challengeDuration" value="#{systemConfig.challengePeriodDurationAmount}" onchange="makePageDirty();" size="3"/>
                                    <h:selectOneListbox
                                      id="challengeDurationDurationScale"
                                      size="1"
                                      onchange="makePageDirty();"
                                      converter="sailpoint.object.Enum"
                                      value="#{systemConfig.challengePeriodDurationScale}">
                                      <f:selectItems value="#{systemConfig.durationScales}" />
                                    </h:selectOneListbox>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </td>
                      </tr>

                      <tr>
                        <td align="right"><h:outputText value="#{msgs.sys_config_remediation_period}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpRemed" width="12px"
                            height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_remed_enabled}"/>
                        </td>
                        <td colspan="2">
                          <h:selectBooleanCheckbox
                            id="certifyRemediationSelect"
                            value="#{systemConfig.remediationPeriodEnabled}"
                            onclick="showHideWithLock(Ext.getDom('remediationPeriodConfig'), this); makePageDirty();Ext.getDom('certificationRemediationSelectWarning').style.display = ( Ext.getDom('editForm:certifyRemediationSelect').checked ? 'none' : '' );"
                            rerender="certificationRemediationSelectWarning"/>
                            <div id="certificationRemediationSelectWarning" class='formWarn' style="display: #{certificationSchedule.editedCertificationSchedule.remediationPeriodEnabled ? 'none' : ''}">
                                <h:outputText value="#{msgs.cert_sched_remediation_scanner_warning}" />
                            </div>
                        </td>
                      </tr>

                      <tr>
                        <td colspan="2"></td>
                        <td colspan="2">
                          <div id="remediationPeriodConfig" style="display: #{systemConfig.remediationPeriodEnabled ? '' : 'none'}">
                            <table class="width100">
                              <thead>
                                <tr>
                                  <th colspan="4" class="dashContentHeader">
                                    <h:outputText value="#{msgs.sys_config_remediation_period_config}" />
                                  </th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td align="right"><h:outputText value="#{msgs.sys_config_remediation_period_duration}" /></td>
                                  <td width="15px"><h:graphicImage id="imgHlpRemedDuration"
                                    width="12px" height="12px"
                                    style="cursor:pointer;padding: 0px 7px 0px 7px"
                                    url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_remed_duration}"/>
                                  </td>
                                  <td colspan="2">
                                    <h:inputText id="remediationDuration" value="#{systemConfig.remediationPeriodDurationAmount}" onchange="makePageDirty();" size="3"/>
                                    <h:selectOneListbox
                                      id="remediationDurationDurationScale"
                                      size="1"
                                      onchange="makePageDirty();"
                                      converter="sailpoint.object.Enum"
                                      value="#{systemConfig.remediationPeriodDurationScale}">
                                      <f:selectItems value="#{systemConfig.durationScales}" />
                                    </h:selectOneListbox>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </td>
                      </tr>

                     <tr>
                        <td align="right">#{msgs.sys_config_default_remediator}</td>
                        <td width="15px">
                         <h:graphicImage id="imgHlpDfltRemed" width="12px"
                            height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_default_remediator}"/>
                        </td>
                        <td colspan="2">
                          <div id="defaultRemediatorSuggest"></div>
                          <t:inputHidden id="defaultRemediatorInput"
                                         value="#{systemConfig.defaultRemediator}" forceId="true">
                              <sp:convertIdentity />
                          </t:inputHidden>
                        </td>
                      </tr>

                      <tr>
                        <td align="right"><h:outputText value="#{msgs.sys_config_automatic_closing_enabled}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpAutoClose" width="12px"
                            height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_automatic_closing_enabled}"/>
                        </td>
                        <td colspan="2">
                          <h:selectBooleanCheckbox
                            id="certifyAutomaticClosingSelect"
                            value="#{systemConfig.automaticClosingEnabled}"
                            onclick="hideSignerSuggest();showHideWithLock(Ext.getDom('automaticClosingConfig'), this, null, initSysCompAutoCloseSuggest); makePageDirty();"/>
                        </td>
                      </tr>

                      <tr>
                        <td colspan="2"></td>
                        <td colspan="2">
                          <div id="automaticClosingConfig" style="display: #{systemConfig.automaticClosingEnabled ? '' : 'none'}">
                            <table class="width100">
                              <thead>
                                <tr>
                                  <th colspan="3" class="dashContentHeader">
                                    <h:outputText value="#{msgs.sys_config_automatic_closing_config}" />
                                  </th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td align="right"><h:outputText value="#{msgs.sys_config_automatic_closing_duration}" /></td>
                                  <td width="15px"><h:graphicImage id="imgHlpAutoCloseDuration"
                                    width="12px" height="12px"
                                    style="cursor:pointer;padding: 0px 7px 0px 7px"
                                    url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_automatic_closing_duration}"/>
                                  </td>
                                  <td>
                                    <h:inputText id="automaticClosingDuration" value="#{systemConfig.automaticClosingDurationAmount}" onchange="makePageDirty();" size="3"/>
                                    <h:selectOneListbox
                                      id="automaticClosingDurationScale"
                                      size="1"
                                      onchange="makePageDirty();"
                                      converter="sailpoint.object.Enum"
                                      value="#{systemConfig.automaticClosingDurationScale}">
                                      <f:selectItems value="#{systemConfig.durationScales}" />
                                    </h:selectOneListbox>
                                  </td>
                                </tr>
                                <tr>
                                  <td align="right"><h:outputText value="#{msgs.sys_config_automatic_closing_rule}" /></td>
                                  <td width="15px"><h:graphicImage id="imgHlpAutoCloseRule"
                                    width="12px" height="12px"
                                    style="cursor:pointer;padding: 0px 7px 0px 7px"
                                    url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_automatic_closing_rule}"/>
                                  </td>
                                  <td class="nowrap">
                                    <p:outputPanel id="automaticClosingRulePanel">
                                      <h:selectOneMenu id="automaticClosingRuleName"
                                                       value="#{systemConfig.automaticClosingRuleName}"
                                                       onchange="makePageDirty();">
                                        <f:selectItems value="#{systemConfig.automaticClosingRules}" />
                                      </h:selectOneMenu>
                                      <ui:fragment rendered="#{sp:hasRight(facesContext, 'ManageRules')}" >
                                         <input type="button" value="#{msgs.button_ellipsis}" class="ruleEditorBtn"
                                                onclick="SailPoint.Rule.Editor.edit(Ext.getDom('editForm:automaticClosingRuleName').value,
                                                                                    'CertificationAutomaticClosing',
                                                                                    Ext.getDom('editForm:refreshAutomaticClosingRulesButton'))" />
                                      </ui:fragment>
                                    </p:outputPanel>
                                  </td>
                                </tr>
                                <tr>
                                  <td align="right"><h:outputText value="#{msgs.sys_config_automatic_closing_action}" /></td>
                                  <td width="15px"><h:graphicImage id="imgHlpAutoCloseAction"
                                    width="12px" height="12px"
                                    style="cursor:pointer;padding: 0px 7px 0px 7px"
                                    url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_automatic_closing_action}"/>
                                  </td>
                                  <td>
                                    <h:selectOneListbox
                                      id="automaticClosingAction"
                                      size="1"
                                      onchange="makePageDirty();"
                                      converter="sailpoint.object.Enum"
                                      value="#{systemConfig.automaticClosingAction}">
                                      <f:selectItems value="#{systemConfig.automaticClosingActions}" />
                                    </h:selectOneListbox>
                                  </td>
                                </tr>
                                <tr class="vertical-align">
                                  <td align="right"><h:outputText value="#{msgs.sys_config_automatic_closing_comments}" /></td>
                                  <td width="15px"><h:graphicImage id="imgHlpAutoCloseComments"
                                    width="12px" height="12px"
                                    style="cursor:pointer;padding: 0px 7px 0px 7px"
                                    url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_automatic_closing_comments}"/>
                                  </td>
                                  <td>
                                    <h:inputTextarea
                                      id="automaticClosingComments"
                                      rows="4" cols="50"
                                      onchange="makePageDirty();"
                                      value="#{systemConfig.automaticClosingComments}" />
                                  </td>
                                </tr>
                                <tr>
                                  <td align="right"><h:outputText value="#{msgs.sys_config_automatic_closing_signer}" /></td>
                                  <td width="15px"><h:graphicImage id="imgHlpAutoCloseSigner"
                                    width="12px" height="12px"
                                    style="cursor:pointer;padding: 0px 7px 0px 7px"
                                    url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_automatic_closing_signer}"/>
                                  </td>
                                  <td>
                                    <div id="automaticClosingSuggest"></div>
                                    <t:inputHidden id="automaticClosingInput"
                                                   value="#{systemConfig.automaticClosingSigner}" forceId="true">
                                        <sp:convertIdentity />
                                    </t:inputHidden>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </td>
                      </tr>

                  </table>
              </div>
                <div class="spContent">
                  <table style="margin:5px" class="spTable">
                      <tr>
                          <td colspan="4">
                            <h:outputText styleClass="spContentTitle" value="#{msgs.cert_sched_behavior_behavior_properties}"/>
                        </td>
                      </tr>                      
                      <tr>
                        <td align="right"><h:outputText value="#{msgs.sys_config_bulk_certify_confirm_selection_count}" /></td> 
                        <td width="15px">
                          <h:graphicImage id="imgHlpBulkCertConfirmSelCnt"
                            width="12px" height="12px" alt="#{help.help_system_config_bulk_certify_confirm_selection_count}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td colspan="2">
                          <h:inputText id="bulkCertConfirmSelCnt"
                                       value='#{systemConfig.object.attributes["bulkSelectionCountForConfirmation"]}'
                                       onchange="makePageDirty();"
                                       size="4">
                            <f:validateLongRange minimum="0" maximum="9999" />
                          </h:inputText>
                        </td>
                      </tr>
                
                      <tr>
                        <td align="right">#{msgs.sys_config_enable_certification_signoff_popup}</td>
                        <td width="15px">
                         <h:graphicImage id="imgHlpAutomateSignOff" width="12px"
                            height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_enable_certification_signoff_popup}"/>
                        </td>
                        <td colspan="2">
                          <h:selectBooleanCheckbox
                            id="automateSignOffPopup"
                            value="#{systemConfig.object.attributes['automateSignOffPopup']}" />
                        </td>
                      </tr>

                      <tr>
                        <td align="right">#{msgs.sys_config_default_electronic_signature_enabled}</td>
                        <td width="15px">
                         <h:graphicImage id="imgHlpDefaultESigEnabled" width="12px"
                            height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_default_electronic_signature_enabled}"/>
                        </td>
                        <td colspan="2">
                          <h:selectBooleanCheckbox
                            id="defaultESigEnabledSelect"
                            value="#{systemConfig.defaultElectronicSignatureEnabled}"
                            onclick="showHideWithLock(Ext.getDom('defaultESigConfig'), this, null, null); makePageDirty();"/>
                        </td>
                      </tr>
                      <tr>
                        <td colspan="2"></td>
                        <td colspan="2">
                          <div id="defaultESigConfig" style="display: #{systemConfig.defaultElectronicSignatureEnabled ? '' : 'none'}">
                          <table class="width100">
                          <thead>
                                <tr>
                                  <th colspan="3" class="dashContentHeader">
                                    <h:outputText value="#{msgs.sys_config_default_electronic_signature_config_header}" />
                                  </th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td align="right"><h:outputText value="#{msgs.sys_config_default_electronic_signature_config_text}" /></td>
                                  <td width="15px">
                                    <span id="imgHlpESigComboBox"/>
                                  </td>
                                  <td>
			                           <div id="eSigComboBox"/>
			                           <h:inputHidden id="defaultElectronicSignatureName" value="#{systemConfig.defaultElectronicSignatureName}"/>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </td>
                      </tr>
                      
                      <tr>
                        <td align="right">
                          <h:outputText value="#{msgs.label_require_subordinate_completion}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpCompleteHierarchy"
                            width="12px" height="12px" alt="#{help.help_sched_cert_sub_complete}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="left" colspan="2"><h:selectBooleanCheckbox
                            id="completeCertificationHierarchy"
                            onclick="makePageDirty();syncAutoSignOffState();"
                            value="#{systemConfig.completeCertificationHierarchy}" />
                        </td>
                      </tr>
                      
                      <tr id="autoSignOffWhenNothingToCertifyRow">
                        <td align="right">
                          <h:outputText value="#{msgs.label_enable_auto_sign_off_when_nothing_to_certify}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpAutoSignOffWhenNothingToCertify"
                            width="12px" height="12px" alt="#{help.help_sched_cert_enable_auto_sign_off_when_nothing_to_certify}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="left" colspan="2"><h:selectBooleanCheckbox
                            id="autoSignOffWhenNothingToCertify"
                            value="#{systemConfig.object.attributes['autoSignOffWhenNothingToCertify']}"
                            disabled="#{certificationSchedule.existingCertGroup}"
                            onclick="makePageDirty();syncAutoSignOffState()" />
                        </td>
                      </tr>
              
                      <tr id="suppressEmailWhenNothingToCertifyRow">
                        <td align="right">
                          <h:outputText value="#{msgs.label_suppress_email_when_nothing_to_certify}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpSupressEmailWhenNothingToCertify"
                            width="12px" height="12px" alt="#{help.help_sched_cert_suppress_email_when_nothing_to_certify}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="left" colspan="2"><h:selectBooleanCheckbox
                            id="suppressEmailWhenNothingToCertify"
                            disabled="#{certificationSchedule.existingCertGroup}"
                            value="#{systemConfig.object.attributes['suppressEmailWhenNothingToCertify']}"
                            onclick="makePageDirty();syncAutoSignOffState()" />
                        </td>
                      </tr>

                      <tr>
                        <td align="right">
                          <h:outputText value="#{msgs.label_require_reassignment_completion}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpCompleteReassignments"
                            width="12px" height="12px" alt="#{help.help_sched_cert_require_reassignment_completion}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="left" colspan="2"><h:selectBooleanCheckbox
                            id="completeReassignments"
                            onclick="makePageDirty(); updateAutoSignoffOption();"
                            value="#{systemConfig.object.attributes['requireReassignmentCompletion']}" />
                        </td>
                      </tr>

                      <tr>
                        <td align="right">
                          <h:outputText value="#{msgs.label_assimilate_bulk_reassignments}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpAssimBulkReassign"
                            width="12px" height="12px" alt="#{help.help_sched_cert_assimilate_bulk_reassignments}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="left" colspan="2"><h:selectBooleanCheckbox
                            id="assimilateBulkReassignments"
                            onclick="makePageDirty(); updateAutoSignoffOption();"
                            value="#{systemConfig.object.attributes['assimilateBulkReassignments']}" />
                        </td>
                      </tr>

                      <tr>
                        <td align="right">
                          <h:outputText value="#{msgs.label_enable_auto_signoff_on_reassignment}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpReassignmentAutoSignoff"
                            width="12px" height="12px" alt="#{help.help_sched_cert_enable_auto_signoff_on_reassignment}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="left" colspan="2"><h:selectBooleanCheckbox
                            id="autoSignoffOnReassignments"
                            onclick="makePageDirty();"
                            disabled="#{systemConfig.object.attributes['requireReassignmentCompletion'] or systemConfig.object.attributes['assimilateBulkReassignments'] ? 'true' : 'false'}"
                            value="#{systemConfig.object.attributes['automateSignOffOnReassignment']}" />
                        </td>
                      </tr>

                      <tr>
                        <td align="right"><h:outputText
                          value="#{msgs.sys_config_require_approval_comments}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpRequireApprovalComments"
                            width="12px" height="12px" alt="#{help.help_system_config_require_cert_approval_comments}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td colspan="2"><h:selectBooleanCheckbox
                            id="requireApprovalComments"
                            value="#{systemConfig.requireApprovalComments}"
                            onclick="makePageDirty();" /></td>
                      </tr>

                      <tr>
                        <td align="right"><h:outputText
                          value="#{msgs.sys_config_require_mitigation_comments}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpRequireMitigationComments"
                            width="12px" height="12px" alt="#{help.help_system_config_require_exception_comments}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td colspan="2"><h:selectBooleanCheckbox
                            id="requireMitigationComments"
                            value="#{systemConfig.requireMitigationComments}"
                            onclick="makePageDirty();syncAllowExceptionPopup();" /></td>
                      </tr>

                      <tr>
                        <td align="right"><h:outputText
                                value="#{msgs.sys_config_require_remediation_comments}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpRequireRemediationComments"
                                          width="12px" height="12px" alt="#{help.help_system_config_require_remediation_comments}"
                                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                                          url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td colspan="2"><h:selectBooleanCheckbox
                                id="requireRemediationComments"
                                value="#{systemConfig.requireRemediationComments}"
                                onclick="makePageDirty();" /></td>
                      </tr>

                      <tr>
                        <td align="right"><h:outputText
                          value="#{msgs.sys_config_require_review_on_delegate}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpRequireDelReview"
                            width="12px" height="12px" alt="#{help.help_system_config_require_del_review}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="left"><h:selectBooleanCheckbox
                          id="requireCertificationDelegationReview"
                          value="#{systemConfig.certificationDelegationReviewRequired}"
                          onclick="makePageDirty();" /></td>
                        <td><h:message styleClass="formError"
                          for="requireCertificationDelegationReview" /></td>
                      </tr>

                      <tr>
                        <td align="right"><h:outputText
                          value="#{msgs.sys_config_require_delegation_completion}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpRequireDelComplete"
                            width="12px" height="12px" alt="#{help.help_system_config_require_delegation_completion}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="left"><h:selectBooleanCheckbox
                          id="requireDelegationCompletion"
                          value='#{systemConfig.object.attributes["requireDelegationCompletion"]}'
                          onclick="makePageDirty();" /></td>
                        <td><h:message styleClass="formError"
                          for="requireCertificationDelegationReview" /></td>
                      </tr>

                      <!-- Forward Action on Delegated work Item -->
                      <tr>
                        <td align="right"><h:outputText value="#{msgs.sys_config_disable_delegation_forwarding}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpDiableDelegationForwarding"
                            width="12px" height="12px" alt="#{help.help_system_config_disable_delegation_forwarding}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td colspan="2">
                          <h:selectBooleanCheckbox id="diableDelegationForwarding"
                            value='#{systemConfig.object.attributes["certificationDisableDelegationForwarding"]}'
                            onclick="makePageDirty();" />
                        </td>
                      </tr>

                      <tr>
                        <td align="right"><h:outputText
                          value="#{msgs.sys_config_allow_self_certify}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpAllowSelfCertify"
                            width="12px" height="12px" alt="#{help.help_system_config_allow_self_certify}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                          <td colspan="2"><h:selectOneMenu
                                  id="allowSelfCertify"
                                  converter="sailpoint.object.Enum"
                                  value="#{systemConfig.selfCertificationAllowedLevel}"
                                  onchange="makePageDirty();">
                              <f:selectItems value="#{systemConfig.selfCertificationAllowedLevels}" />
                          </h:selectOneMenu></td>
                      </tr>

                      <tr>
                        <td align="right"><h:outputText
                                value="#{msgs.sys_config_self_certification_violation_owner}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpSelfCertificationViolationOwner"
                                          width="12px" height="12px" alt="#{help.help_system_config_self_certification_violation_owner}"
                                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                                          url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td colspan="2">
                          <div id="selfCertificationViolationOwnerSuggest"></div>
                          <t:inputHidden id="selfCertificationViolationOwnerInput"
                                         value="#{systemConfig.selfCertificationViolationOwner}" forceId="true">
                            <sp:convertIdentity />
                          </t:inputHidden>
                        </td>
                      </tr>

                      <!-- Limit Reassignments -->
                      <tr>
                        <td align="right">
                          <h:outputText value="#{msgs.sys_config_limit_reassignment}" />
                        </td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpLimitReassignments"
                            width="12px" height="12px" alt="#{help.help_system_config_limit_reassignment}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td colspan="2">
                          <h:selectBooleanCheckbox id="limitReassignments"
                            value='#{systemConfig.limitReassignments}'
                            onchange="onLimitReassignmentsChanged(this);"
                            onclick="makePageDirty();">
                          </h:selectBooleanCheckbox>
                          <h:outputText value="#{msgs.sys_config_reassignment_limit}" style="margin-left:10px; padding:2px" styleClass="notLimit"/>
                          <h:graphicImage id="imgHlpReassignmentLimit"
                            width="12px" height="12px" alt="#{help.help_system_config_reassignment_limit}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px;margin-left:10px"
                            url="/images/icons/dashboard_help_16.png"/>
                          <h:inputText id="reassignmentLimit"
                                       value='#{systemConfig.reassignmentLimit}'
                                       style="margin-left:10px; padding:2px"
                                       onchange="makePageDirty();"
                                       required="true"
                                       requiredMessage="#{msgs.sys_config_err_reassignment_limit_empty}"
                                       validatorMessage="#{msgs.sys_config_err_reassignment_limit_not_valid}"
                                       size="4">
                            <f:validateLongRange minimum="1" maximum="9999" />
                          </h:inputText>
                        </td>
                      </tr>
                      <tr>
                        <td align="right">#{msgs.sys_config_include_classifications}</td>
                        <td width="15px">
                         <h:graphicImage id="imgHlpIncludeClassifications" width="12px"
                            height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_include_classifications}"/>
                        </td>
                        <td colspan="2">
                          <h:selectBooleanCheckbox
                            id="includeClassifications"
                            value="#{systemConfig.object.attributes['certificationIncludeClassifications']}" />
                        </td>
                      </tr>
                  </table>
              </div>
                <div class="spContent">
                  <table style="margin:5px" class="spTable">
                      <tr>
                        <td colspan="3">
                            <h:outputText styleClass="spContentTitle" value="#{msgs.cert_sched_behavior_decision_properties}"/>
                        </td>
                      </tr>


                      <tr>
                        <td align="right" width="500px">#{msgs.sys_config_enable_allow_prov_missing_requirements}</td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpallowProvisioningMissingRequirements"
                            width="12px" height="12px" alt="#{help.help_system_config_enable_allow_prov_missing_requirements}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td><h:selectBooleanCheckbox
                            id="allowProvisioningMissingRequirements"
                            value="#{systemConfig.allowProvisioningMissingRequirements}"
                            onclick="makePageDirty();" /></td>
                      </tr>

                      <tr>
                        <td align="right"><h:outputText value="#{msgs.sys_config_enable_line_item_delegate}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpEnableItemDelegation"
                            width="12px" height="12px" alt="#{help.help_system_config_enable_item_delegation}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td>
                          <h:selectBooleanCheckbox id="enableItemDelegation"
                            value='#{systemConfig.object.attributes["certificationItemDelegationEnabled"]}'
                            onclick="makePageDirty();" />
                        </td>
                      </tr>
                      <tr>
                         <td align="right">
                             <h:outputText styleClass="required" value="#{msgs.sys_config_enable_revoke_account}" />
                         </td>
                         <td class="certScheduleHelpCol">
                            <h:graphicImage id="imgHlpEnableAcctRevoke" styleClass="helpIcon" url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_enable_revoke_account}"/>
                         </td>
                         <td>
                             <h:selectBooleanCheckbox id="enableAccountRevoke"
                               value="#{systemConfig.enableRevokeAccount}"
                               onclick="syncBulkAccountRevocationState(); makePageDirty();"/>
                         </td>
                      </tr>

                      <tr>
                        <td align="right"><h:outputText value="#{msgs.sys_config_enable_entity_delegate}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpEnableEntityDelegation"
                            width="12px" height="12px" alt="#{help.help_system_config_enable_entity_delegation}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td>
                          <h:selectBooleanCheckbox id="enableEntityDelegation"
                            value='#{systemConfig.object.attributes["certificationEntityDelegationEnabled"]}'
                            onclick="makePageDirty();" />
                        </td>
                      </tr>
                      <tr>
                        <td align="right"><h:outputText
                          value="#{msgs.sys_config_enable_allow_exceptions}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpEnableAllowException"
                            width="12px" height="12px" alt="#{help.help_system_config_enable_allow_exception}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td><h:selectBooleanCheckbox
                            id="enableAllowException"
                            value="#{systemConfig.mitigationEnabled}"
                            onclick="syncAllowExceptionDisabledState(); makePageDirty();" /></td>
                      </tr>
                      <tr>
                        <td align="right"><h:outputText
                          value="#{msgs.sys_config_deprovision_upon_expiration}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpDeprovisionUponExpiration"
                            width="12px" height="12px" alt="#{help.help_system_config_deprovision_upon_expiration}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td><h:selectBooleanCheckbox
                            id="deprovisionUponExpiration"
                            value="#{systemConfig.mitigationDeprovisionEnabled}"
                            onclick="makePageDirty();" /></td>
                      </tr>
                       <tr>
                         <td align="right">
                            <h:outputText value="#{msgs.sys_config_enable_allow_exception_popup}" /></td>
                         <td width="15px">
                           <h:graphicImage id="imgHlpEnableAllowExceptionPopup"
                             width="12px" height="12px" alt="#{help.help_system_config_enable_allow_exception_popup}"
                             style="cursor:pointer;padding: 0px 7px 0px 7px"
                             url="/images/icons/dashboard_help_16.png"/>
                         </td>
                         <td><h:selectBooleanCheckbox
                             id="enableAllowExceptionPopup"
                             value='#{systemConfig.exceptionPopupEnabled}'
                             onclick="syncRequireMitigationComments();" /></td>
                       </tr>

                       <tr>
                           <td align="right">
                             <h:outputText value="#{msgs.sys_config_default_allow_exception_duration}" />
                           </td>
                           <td width="15px">
                             <h:graphicImage id="imgHlpEnableAllowExceptionDefaultDuration"
                               width="12px" height="12px" alt="#{help.help_system_config_default_allow_exception_duration}"
                               style="cursor:pointer;padding: 0px 7px 0px 7px"
                               url="/images/icons/dashboard_help_16.png"/>
                           </td>
                           <td>
                             <h:inputText id="allowExceptionPeriodAmount" value="#{systemConfig.exceptionPeriodAmount}" size="3" ></h:inputText>

                             <h:selectOneListbox
                              id="allowExceptionDurationScale"
                              size="1"
                              converter="sailpoint.object.Enum"
                              value="#{systemConfig.exceptionPeriodScale}"
                              disabled=""
                              readonly=""
                              style="margin-left:10px; padding:2px">
                              <f:selectItems value="#{systemConfig.durationScales}" />
                            </h:selectOneListbox>
                           </td>
                       </tr>
                       
                       <tr>
                            <td align="right">
                                <h:outputText value="#{msgs.sys_config_default_remediation_modifiable_op}"/>
                            </td>
                            <td width="15px">
                            <h:graphicImage id="imgHlpDefaultRemediationModifiableOp"
                             width="12px" height="12px" alt="#{help.help_system_config_default_remediation_modifiable_op}"
                             style="cursor:pointer;padding: 0px 7px 0px 7px"
                             url="/images/icons/dashboard_help_16.png"/>
                            </td>
                            <td>
                               <h:selectOneListbox value="#{systemConfig.defaultRemediationModifiableOp}" size="1">
                                    <f:selectItem itemLabel="#{msgs.sys_config_option_modify}" itemValue="Modify" />
                                    <f:selectItem itemLabel="#{msgs.sys_config_option_remove}" itemValue="Remove" />
                               </h:selectOneListbox> 
                            </td>
                       </tr>
                       <c:if test="#{systemConfig.recommenderConfigured}">
                          <tr>
                            <td align="right"><h:outputText
                                    value="#{msgs.ui_show_recommendations}" /></td>
                            <td width="15px">
                              <h:graphicImage id="imgHlpShowRecommendations"
                                              width="12px" height="12px" alt="#{help.help_system_config_show_recommendations}"
                                              style="cursor:pointer;padding: 0px 7px 0px 7px"
                                              url="/images/icons/dashboard_help_16.png"/>
                            </td>
                            <td>
                              <h:selectBooleanCheckbox
                                  id="showRecommendations"
                                  value='#{systemConfig.showRecommendations}'
                                  onclick="makePageDirty();"
                                  onchange="onShowRecommendationsChanged(this);"/>
                            </td>
                          </tr>
                        <tr id="autoApproval" class="autoApproval #{systemConfig.showRecommendations ? '' : 'hidden'}">
                          <td align="right"><h:outputText
                                  value="#{msgs.ui_auto_approval}" /></td>
                          <td width="15px">
                            <h:graphicImage id="imgHlpAutoApproval"
                                            width="12px" height="12px" alt="#{help.help_system_config_auto_approval}"
                                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                                            url="/images/icons/dashboard_help_16.png"/>
                          </td>
                          <td>
                            <h:selectBooleanCheckbox
                                    id="autoApproval"
                                    value='#{systemConfig.autoApprove}'
                                    onclick="makePageDirty();"
                                    onchange="onAutoApprovalChanged(this);"/>
                          </td>
                        </tr>
                       </c:if>
                  </table>
              </div>
                <div class="spContent">
                  <table style="margin:5px" class="spTable">
                      <tr>
                        <td colspan="5">
                            <h:outputText styleClass="spContentTitle" value="#{msgs.cert_sched_behavior_bulk_behavior_properties}"/>
                        </td>
                      </tr>
                    <tr>
                        <td width="500px"></td>
                        <td width="15px"></td>
                        <td class="textBold" style='text-align:center'>
                            <h:outputText value="#{msgs.cert_sched_behavior_bulk_actions_grid_header}" />
                        </td>
                        <td class="textBold" style='text-align:center'>
                            <h:outputText value="#{msgs.cert_sched_behavior_bulk_actions_details_header}" />
                        </td>
                        <td width="40%"></td>
                    </tr>
                    <tr>
                        <td align="right">
                            <h:outputText value="#{msgs.sys_config_enable_bulk_approve}" /></td>
                        <td >
                          <h:graphicImage id="imgHlpEnableListBulkApprove"
                            width="12px" height="12px" alt="#{help.help_sys_config_enable_bulk_approve}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="center">
                          <h:selectBooleanCheckbox id="enableListViewBulkApprove"
                             value='#{systemConfig.object.attributes["allowListViewBulkApprove"]}'
                             onclick="makePageDirty();"/>
                        </td>
                        <td align="center">
                          <h:selectBooleanCheckbox id="enableEntityBulkApprove"
                             value='#{systemConfig.object.attributes["allowCertificationEntityBulkApprove"]}'
                             onclick="makePageDirty();"/>
                        </td>
                        <td></td>
                    </tr>

                    <tr>
                        <td align="right">
                            <h:outputText value="#{msgs.sys_config_enable_bulk_revoke}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpEnableListBulkRevoke"
                            width="12px" height="12px" alt="#{help.help_sys_config_enable_bulk_revoke}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="center">
                          <h:selectBooleanCheckbox id="enableListViewBulkRevoke"
                             value='#{systemConfig.object.attributes["allowListViewBulkRevoke"]}'
                             onclick="makePageDirty();"/>
                        </td>
                        <td align="center">
                          <h:selectBooleanCheckbox id="enableEntityBulkRevoke"
                             value='#{systemConfig.object.attributes["allowCertificationEntityBulkRevocation"]}'
                             onclick="makePageDirty();"/>
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td align="right">
                            <h:outputText value="#{msgs.sys_config_enable_bulk_allow_exception}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpEnableListBulkAllowException"
                            width="12px" height="12px" alt="#{help.help_sys_config_enable_bulk_allow_exception}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="center">
                          <h:selectBooleanCheckbox id="enableListViewBulkAllowException"
                             value='#{systemConfig.object.attributes["allowListViewBulkMitigate"]}'
                             onclick="makePageDirty();" />
                        </td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td align="right">
                            <h:outputText value="#{msgs.sys_config_enable_bulk_reassign}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpEnableListBulkReassign"
                            width="12px" height="12px" alt="#{help.help_sys_config_enable_bulk_reassign}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="center">
                          <h:selectBooleanCheckbox id="enableListViewBulkReassign"
                             value='#{systemConfig.object.attributes["allowListViewBulkReassign"]}'
                             onclick="makePageDirty();" />
                        </td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td align="right">
                            <h:outputText value="#{msgs.sys_config_enable_bulk_revoke_account}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpEnableEntityBulkAccountRevocation"
                            width="12px" height="12px" alt="#{help.help_sys_config_enable_bulk_account_revocation}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="center">
                          <h:selectBooleanCheckbox id="enableListViewBulkAccountRevocation"
                             value='#{systemConfig.object.attributes["allowListViewBulkAccountRevoke"]}'
                             onclick="makePageDirty();" />
                        </td>
                        <td align="center">
                          <h:selectBooleanCheckbox id="enableEntityBulkAccountRevocation"
                             value='#{systemConfig.object.attributes["allowCertificationEntityBulkAccountRevocation"]}'
                             onclick="makePageDirty();" />
                        </td>
                        <td></td>
                    </tr>

                    <tr>
                        <td align="right">
                            <h:outputText value="#{msgs.sys_config_enable_bulk_clear_decisions}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpEnableEntityBulkClearDecisions"
                            width="12px" height="12px" alt="#{help.help_sys_config_enable_bulk_clear_decisions}"
                            style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png"/>
                        </td>
                        <td align="center">
                          <h:selectBooleanCheckbox id="enableListViewBulkClearDecisions"
                             value='#{systemConfig.object.attributes["allowListViewBulkClearDecisions"]}'
                             onclick="makePageDirty();" />
                        </td>
                        <td align="center">
                          <h:selectBooleanCheckbox id="enableEntityBulkClearDecisions"
                             value='#{systemConfig.object.attributes["allowCertificationEntityBulkClearDecisions"]}'
                             onclick="makePageDirty();" />
                        </td>
                        <td></td>
                    </tr>

                  </table>
              </div>

                <div class="spContent">
                  <table style="margin:5px" class="spTable">
                      <tr>
                        <td colspan="3">
                            <h:outputText styleClass="spContentTitle" value="#{msgs.cert_sched_contents_header}"/>
                        </td>
                      </tr>
                      <tr>
                        <td align="right"><h:outputText value="#{msgs.sys_config_exclude_base_app_accts}" /></td>
                        <td width="15px">
                          <h:graphicImage id="imgHlpExcludeBaseAcct" width="12px"
                            height="12px" style="cursor:pointer;padding: 0px 7px 0px 7px"
                            url="/images/icons/dashboard_help_16.png" alt="#{help.help_system_config_cert_exclude_base_app_accts}"/>
                        </td>
                        <td>
                          <h:selectBooleanCheckbox
                            id="excludeBaseAppAccounts"
                            value="#{systemConfig.excludeBaseAppAccounts}"
                            onchange="makePageDirty();"/>
                        </td>
                     </tr>
                     <ui:include src="/monitor/scheduleCertifications/scheduleCertificationsSubordinateInclude.xhtml">
                       <ui:param name="formName" value="editForm"/>
                       <ui:param name="isRendered" value="true"/>
                       <ui:param name="optionsBean" value="#{systemConfig}"/>
                       <ui:param name="cellWidth" value="500px"/>
                     </ui:include>
                  </table>
                  
                </div>

                <!-- Start of Email Templates section -->
                <div class="spContent">
                  <table style="margin:5px" class="spTable">
                    <tr>
                      <td colspan="3">
                        <h:outputText styleClass="spContentTitle" value="#{msgs.sys_config_email_templates}"/>
                      </td>
                    </tr>

                    <tr>
                      <td align="right" width="500px"> <h:outputText value="#{msgs.label_suppress_initial_notifications}" /></td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpSuppressInitialEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_suppress_initial_notifications}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td>
                          <h:selectBooleanCheckbox
                            id="suppressInitialEmail"
                            value='#{systemConfig.object.attributes["suppressInitialNotification"]}'
                                onchange="makePageDirty();">
                          </h:selectBooleanCheckbox>
                      </td>
                    </tr>

                    <tr>
                      <td align="right"> <h:outputText value="#{msgs.label_initial_notification_email_template}" /></td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpInitialCertEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_mit_email}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td><h:selectOneMenu
                        id="certificationEmailTemplate"
                        value='#{systemConfig.object.attributes["certificationEmailTemplate"]}'
                        onchange="makePageDirty();">
                        <f:selectItems value="#{systemConfig.emailTemplates}" />
                      </h:selectOneMenu>
                      </td>
                    </tr>

                    <tr>
                      <td align="right"> <h:outputText value="#{msgs.email_template_mitigation_expiration}" /></td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpMitEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_mit_email}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td><h:selectOneMenu
                        id="mitigationExpirationEmailTemplate"
                        value='#{systemConfig.object.attributes["mitigationExpirationEmailTemplate"]}'
                        onchange="makePageDirty();">
                        <f:selectItems value="#{systemConfig.emailTemplates}" />
                      </h:selectOneMenu>
                      </td>

                    </tr>
                    <tr>
                      <td align="right">
                        <h:outputText value="#{msgs.email_template_bulk_reassign_modification}" />
                      </td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpBlkReassignEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_blk_reassign_email}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td align="left">
                        <h:selectOneMenu
                          value='#{systemConfig.object.attributes["bulkReassignmentEmailTemplate"]}'
                          onchange="makePageDirty();">
                          <f:selectItems value="#{systemConfig.emailTemplates}" />
                        </h:selectOneMenu>
                      </td>

                    </tr>
                    <tr>
                      <td align="right">
                        <h:outputText value="#{msgs.email_template_challenge_period_start_challenger}" />
                      </td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpChlgStartEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_chlg_start_email}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td align="left">
                        <h:selectOneMenu
                          value='#{systemConfig.object.attributes["challengePeriodStartEmailTemplate"]}'
                          onchange="makePageDirty();">
                          <f:selectItems value="#{systemConfig.emailTemplates}" />
                        </h:selectOneMenu>
                      </td>

                    </tr>
                    <tr>
                      <td align="right">
                        <h:outputText value="#{msgs.email_template_challenge_period_end_certifier}" />
                      </td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpChlgEndEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_chlg_end}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td align="left">
                        <h:selectOneMenu
                          value='#{systemConfig.object.attributes["challengePeriodEndEmailTemplate"]}'
                          onchange="makePageDirty();">
                          <f:selectItems value="#{systemConfig.emailTemplates}" />
                        </h:selectOneMenu>
                      </td>

                    </tr>
                    <tr>
                      <td align="right">
                        <h:outputText value="#{msgs.email_template_challenge_generation_challenger}" />
                      </td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpChlgGenEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_chlg_generation_email}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td align="left">
                        <h:selectOneMenu
                          value='#{systemConfig.object.attributes["challengeGenerationEmailTemplate"]}'
                          onchange="makePageDirty();">
                          <f:selectItems value="#{systemConfig.emailTemplates}" />
                        </h:selectOneMenu>
                      </td>

                    </tr>
                    <tr>
                      <td align="right">
                        <h:outputText value="#{msgs.email_template_challenge_decisions_certifier}" />
                      </td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpChlgChallengedEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_chlg_challenged_email}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td align="left">
                        <h:selectOneMenu
                          value='#{systemConfig.object.attributes["certificationDecisionChallengedEmailTemplate"]}'
                          onchange="makePageDirty();">
                          <f:selectItems value="#{systemConfig.emailTemplates}" />
                        </h:selectOneMenu>
                      </td>

                    </tr>
                    <tr>
                      <td align="right">
                        <h:outputText value="#{msgs.email_template_challenge_expiration_challenger}" />
                      </td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpChlgExpEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_chlg_expired_email}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td align="left">
                        <h:selectOneMenu
                          value='#{systemConfig.object.attributes["challengeExpirationEmailTemplate"]}'
                          onchange="makePageDirty();">
                          <f:selectItems value="#{systemConfig.emailTemplates}" />
                        </h:selectOneMenu>
                      </td>

                    </tr>
                    <tr>
                      <td align="right">
                        <h:outputText value="#{msgs.email_template_challenge_decision_expiration}" />
                      </td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpChlgDecExpEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_chlg_decision_expired_email}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td align="left">
                        <h:selectOneMenu
                          value='#{systemConfig.object.attributes["challengeDecisionExpirationEmailTemplate"]}'
                          onchange="makePageDirty();">
                          <f:selectItems value="#{systemConfig.emailTemplates}" />
                        </h:selectOneMenu>
                      </td>

                    </tr>
                    <tr>
                      <td align="right">
                        <h:outputText value="#{msgs.email_template_challenge_accepted}" />
                      </td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpChlgAcceptedEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_chlg_accepted_email}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td align="left">
                        <h:selectOneMenu
                          value='#{systemConfig.object.attributes["challengeAcceptedEmailTemplate"]}'
                          onchange="makePageDirty();">
                          <f:selectItems value="#{systemConfig.emailTemplates}" />
                        </h:selectOneMenu>
                      </td>

                    </tr>
                    <tr>
                      <td align="right">
                        <h:outputText value="#{msgs.email_template_challenge_rejected}" />
                      </td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpChlgRejectedEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_chlg_rejected_email}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td align="left">
                        <h:selectOneMenu
                          value='#{systemConfig.object.attributes["challengeRejectedEmailTemplate"]}'
                          onchange="makePageDirty();">
                          <f:selectItems value="#{systemConfig.emailTemplates}" />
                        </h:selectOneMenu>
                      </td>

                    </tr>
                    <tr>
                      <td align="right">
                        <h:outputText value="#{msgs.email_template_cert_sign_off_approval}" />
                      </td>
                      <td width="15px">
                        <h:graphicImage id="imgHlpSignOffApprEmail"
                          width="12px" height="12px" alt="#{help.help_system_config_cert_sign_off_approval_email}"
                          style="cursor:pointer;padding: 0px 7px 0px 7px"
                          url="/images/icons/dashboard_help_16.png"/>
                      </td>
                      <td align="left">
                        <h:selectOneMenu
                          value='#{systemConfig.object.attributes["certificationSignOffApprovalEmailTemplate"]}'
                          onchange="makePageDirty();">
                          <f:selectItems value="#{systemConfig.emailTemplates}" />
                        </h:selectOneMenu>
                      </td>

                    </tr>
                  </table>
                </div>
               <div class="spContent">
                <p:commandButton styleClass="primaryBtn" id="visibleSaveButton"
                  value="#{msgs.button_save}" onclick="Ext.getDom('editForm:stealthSaveButton').click();" />
              </div>
           
           </td>
           </tr>
         </tbody>
       </table>

       <p:commandButton id="refreshEscalationRulesButton"
                          style="display:none"
                          update="@([id$=escalationRulePanel])"/>

       <p:commandButton id="refreshAutomaticClosingRulesButton"
                          style="display:none"
                          update="@([id$=automaticClosingRulePanel])"/>

       <h:commandButton style="display:none" id="stealthSaveButton"
         action="#{systemConfig.saveCertificationConfigAction}" />
      </h:form>
    </f:view>
  </ui:define>
</ui:composition>
</body>
</html>
